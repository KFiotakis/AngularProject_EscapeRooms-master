<h1 style="margin-top:200px; color: #d5b215; text-align: center;">Rooms List</h1>


  <div style="margin-left: 35%;" class="row">
    <div class="col-5 form-group">
      <div class="mb-1">
        <label for="SearchName" class="form-label" style="color:white;">Search Title<Title></Title></label>
        <input type="search" class="form-control"  id="SearchName" placeholder="Search Title">
      </div>
    </div>
     <div>
    <button style="margin-top: 10px; margin-left: 210px;" (click)="ToggleCreate()" class="btn btn-warning">{{CreateHidden?"Hide Create Button" : "Show Create Button"}}</button>
  </div>

  </div>

 
<br>
<table style="margin: 10px; " class="table table-dark">
  <thead>
    <tr style="text-align:center">
      <th>Id</th>
      <th>ImageUrl</th>
      <th>VideoId</th>
      <th>"Title &#8593;"</th>
      <th>Description</th>
      <th>Difficulty</th>
      <th>Duration</th>
      <th>Genre</th>
      <th>Capacity</th>
      <th>DiscountPerPerson</th>
      <th>StartingPricePerPerson</th>
      <th>HasActor</th>
      <th>Action</th>
    </tr>
    <tr *ngIf="CreateHidden" >
      <th></th>
      <th><input #roomImage class="form-control" type="text" placeholder="New Image"></th>
      <th><input #roomVideoId  class="form-control" type="text" placeholder="New VideoId"></th>
      <th><input #roomTitle class="form-control" type="text" placeholder="New Title"></th>
      <th><input #roomDescription class="form-control" type="text" placeholder="New Description"></th>
      <th><select class="form-control" #roomDifficulty>
        <option value="0" selected>Beginner</option>
        <option value="1">Intermediate</option>
        <option value="2">Advanced</option>
      </select>
      </th>
      <th><input #roomDuration class="form-control" type="number" placeholder="New Duration"></th>
      <th>
        <select class="form-control" #roomGenre>
          <option value="0" selected>Horror</option>
          <option value="1">Comedy</option>
          <option value="2">Thriller</option>
          <option value="3">KidsFriendly</option>
          <option value="4">RolePlaying</option>
          <option value="5">SciFi</option>
          <option value="6">Mystery</option>
        </select>
      
      </th>
      <th><input #roomCapacity class="form-control" type="number" placeholder="New Capacity"></th>
      <th><input #roomDiscountPerPerson class="form-control" type="number" placeholder="New DiscountPerPerson"></th>
      <th><input #roomStartPricePerPerson class="form-control" type="number" placeholder="New StartingPricePerPerson"></th>
      <th><select class="form-control" #roomActor>
        <option value="1" selected>True</option>
        <option value="0">False</option>
      </select></th>

      <th >
        <button *ngIf="Rooms" (click)="
        CreateRoomHandler
        (roomTitle.value
        ,roomDescription.value
        ,roomDuration.valueAsNumber,roomGenre.value,roomCapacity.valueAsNumber,
        roomDifficulty.value, getBoolean(roomActor.value) , 0, 0, true,  roomStartPricePerPerson.valueAsNumber,roomDiscountPerPerson.valueAsNumber,
        roomImage.value,
        roomVideoId.value)" class="btn btn-primary" [routerLink]="['/Admin']">Create</button> 
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let room of Rooms" style="text-align:center">
      <td>{{room.Id}}</td>
      <td>
        <img style="width:140px; height: 100%;" [src]="room.ImageUrl">
      </td>
      <td style="width:140px; height: 100%;">{{room.VideoId}}
      </td>
      <td>{{room.Title}}</td>
      <td>
        <div style="overflow-y:scroll ; height:140px; width: 250px;">
          {{room.Description}}
        </div>
      </td>
    
      <td>
        <div style="text-align:center;">
          <p>{{room.Difficulty}}
          </p>
       </div>
 
      </td>
      <td>{{room.Duration}}</td>
    
      <td style="text-align:center;">
          <p>{{room.Genre}}</p>
      </td>
      <td>{{room.Capacity}}</td>
      <td>{{room.DiscountPerPerson}}</td>
      <td>{{room.StartingPricePerPerson}}</td>
      <td>{{room.HasActor}}</td>

      <td>
        <button (click)="onEditHandler(room)"  class="btn btn-success m-2">Edit</button>
        <button (click)="DeleteRoomHandler(room.Id)" class="btn btn-danger m-2">Delete</button>
      </td>
      <br>
    </tr>
  </tbody>

</table>
<app-admin-update
 [Room]="SelectedRoom"
 [isVisible]="EditVisible" 
 (myEvent)="Meth($event)" 
 (isClosedEvent)="onCloseDetailsWindow($event)"
  ></app-admin-update>

